<div class="attendance-container">
  <div class="content-wrapper">
    <!-- å·¦å´: å‹¤æ€ ç™»éŒ²ã‚¨ãƒªã‚¢ -->
    <div class="left-section">
      <h2>å‹¤æ€ ç™»éŒ²</h2>
      <div class="selected-date">
        <h3>ğŸ“… {{ getSelectedDateText() }}</h3>
      </div>

      <!-- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º -->
      <div *ngIf="message" class="alert" [ngClass]="{
        'alert-success': messageType === 'success',
        'alert-error': messageType === 'error',
        'alert-info': messageType === 'info'
      }">
        {{ message }}
      </div>

      <!-- ãƒ¡ãƒ³ãƒãƒ¼ä¸€è¦§ãƒ†ãƒ¼ãƒ–ãƒ« -->
      <div class="members-list">
        <table>
          <thead>
            <tr>
              <th>ãƒ¦ãƒ¼ã‚¶ãƒ¼å</th>
              <th>çŠ¶æ…‹</th>
              <th>æ“ä½œ</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let user of users">
              <td>{{ user.username }}</td>
              <td>
                <span class="status-badge" [ngClass]="{
                  'status-working': getStatusText(user.userId) === 'å‹¤å‹™ä¸­',
                  'status-completed': getStatusText(user.userId) === 'é€€å‹¤æ¸ˆã¿',
                  'status-leave': getStatusText(user.userId) === 'å¹´ä¼‘',
                  'status-none': getStatusText(user.userId) === 'æœªç™»éŒ²'
                }">
                  {{ getStatusText(user.userId) }}
                </span>
              </td>
              <td class="action-buttons">
                <button class="btn btn-sm btn-checkin" (click)="checkIn(user.userId, user.username)"
                  [disabled]="!canCheckIn(user.userId)">
                  å‡ºå‹¤
                </button>
                <button class="btn btn-sm btn-checkout" (click)="checkOut(user.userId, user.username)"
                  [disabled]="!canCheckOut(user.userId)">
                  é€€å‹¤
                </button>
                <button class="btn btn-sm btn-leave" (click)="annualLeave(user.userId, user.username)"
                  [disabled]="!canAnnualLeave(user.userId)">
                  å¹´ä¼‘
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="info-text" *ngIf="users.length === 0">
        <p>ãƒ¡ãƒ³ãƒãƒ¼ãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“</p>
      </div>
    </div>

    <!-- å³å´: ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¨ãƒªã‚¢ -->
    <div class="right-section">
      <div class="calendar-container">
        <div class="calendar-header">
          <button class="btn-nav" (click)="previousMonth()">â—€</button>
          <h3>{{ getMonthYearText() }}</h3>
          <button class="btn-nav" (click)="nextMonth()">â–¶</button>
        </div>

        <div class="calendar-grid">
          <!-- æ›œæ—¥ãƒ˜ãƒƒãƒ€ãƒ¼ -->
          <div class="calendar-weekday" *ngFor="let day of weekDays">
            {{ day }}
          </div>

          <!-- ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®æ—¥ä»˜ -->
          <div *ngFor="let day of calendarDays" class="calendar-day" [ngClass]="{
              'other-month': !day.isCurrentMonth,
              'today': day.isToday,
              'selected': day.isSelected,
              'sunday': day.date.getDay() === 0,
              'saturday': day.date.getDay() === 6
            }" (click)="selectDate(day)">
            {{ day.date.getDate() }}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>